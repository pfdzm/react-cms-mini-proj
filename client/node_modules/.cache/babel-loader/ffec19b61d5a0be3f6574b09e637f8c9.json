{"ast":null,"code":"import _slicedToArray from \"/mnt/d/Fernandez/Desktop/bootcamp/esmt-bc/20-State/01-Activities/react-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/mnt/d/Fernandez/Desktop/bootcamp/esmt-bc/20-State/01-Activities/react-app/client/src/components/PostsList/index.js\";\nimport React, { useEffect } from \"react\";\nimport { ListItem, List } from \"../List\";\nimport DeleteBtn from \"../DeleteBtn\";\nimport { Link } from \"react-router-dom\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport API from \"../../utils/API\";\n\nvar PostsList = function PostsList() {\n  var _useStoreContext = useStoreContext(),\n      _useStoreContext2 = _slicedToArray(_useStoreContext, 2),\n      state = _useStoreContext2[0],\n      dispatch = _useStoreContext2[1];\n\n  useEffect(function () {\n    dispatch({\n      type: \"SAVING\"\n    });\n    API.getPosts().then(function (_ref) {\n      var data = _ref.data;\n      return dispatch({\n        type: \"UPDATE_POSTS\",\n        payload: data\n      });\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, \"All Blog Posts\"), React.createElement(\"h3\", {\n    className: \"mb-5 mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, \"Click on a post to view\"), state.posts.length ? React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, state.posts.map(function (post) {\n    return React.createElement(ListItem, {\n      key: post._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/posts/\" + post._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, post.title, \" by \", post.author)), React.createElement(DeleteBtn, {\n      onClick: function onClick() {\n        dispatch({\n          type: \"SAVING\"\n        });\n        API.deletePost(post._id).then(function (_) {\n          dispatch({\n            type: \"REMOVE_POST\",\n            payload: post\n          });\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }));\n  })) : React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"You haven't added any posts yet!\"), React.createElement(\"div\", {\n    className: \"mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"favorites\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"View favorites\")));\n};\n\nexport default PostsList;","map":{"version":3,"sources":["/mnt/d/Fernandez/Desktop/bootcamp/esmt-bc/20-State/01-Activities/react-app/client/src/components/PostsList/index.js"],"names":["React","useEffect","ListItem","List","DeleteBtn","Link","useStoreContext","API","PostsList","state","dispatch","type","getPosts","then","data","payload","posts","length","map","post","_id","title","author","deletePost","_"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,SAA/B;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,SAASC,eAAT,QAAgC,yBAAhC;AAEA,OAAOC,GAAP,MAAgB,iBAAhB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,yBACIF,eAAe,EADnB;AAAA;AAAA,MACfG,KADe;AAAA,MACRC,QADQ;;AAGtBT,EAAAA,SAAS,CAAC,YAAM;AACdS,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAJ,IAAAA,GAAG,CAACK,QAAJ,GAAeC,IAAf,CAAoB;AAAA,UAAGC,IAAH,QAAGA,IAAH;AAAA,aAClBJ,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE,cAAR;AAAwBI,QAAAA,OAAO,EAAED;AAAjC,OAAD,CADU;AAAA,KAApB;AAGD,GALQ,EAKN,EALM,CAAT;AAOA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFF,EAGGL,KAAK,CAACO,KAAN,CAAYC,MAAZ,GACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,KAAK,CAACO,KAAN,CAAYE,GAAZ,CAAgB,UAAAC,IAAI;AAAA,WACnB,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,IAAI,CAACC,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,YAAYD,IAAI,CAACC,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,IAAI,CAACE,KADR,UACmBF,IAAI,CAACG,MADxB,CADF,CADF,EAME,oBAAC,SAAD;AACE,MAAA,OAAO,EAAE,mBAAM;AACbZ,QAAAA,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAR;AACAJ,QAAAA,GAAG,CAACgB,UAAJ,CAAeJ,IAAI,CAACC,GAApB,EAAyBP,IAAzB,CAA8B,UAAAW,CAAC,EAAI;AACjCd,UAAAA,QAAQ,CAAC;AAAEC,YAAAA,IAAI,EAAE,aAAR;AAAuBI,YAAAA,OAAO,EAAEI;AAAhC,WAAD,CAAR;AACD,SAFD;AAGD,OANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADmB;AAAA,GAApB,CADH,CADD,GAqBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAxBJ,EA0BE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CA1BF,CADF;AAgCD,CA1CD;;AA4CA,eAAeX,SAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { ListItem, List } from \"../List\";\nimport DeleteBtn from \"../DeleteBtn\";\nimport { Link } from \"react-router-dom\";\n\nimport { useStoreContext } from \"../../utils/GlobalState\";\n\nimport API from \"../../utils/API\";\n\nconst PostsList = () => {\n  const [state, dispatch] = useStoreContext();\n\n  useEffect(() => {\n    dispatch({ type: \"SAVING\" });\n    API.getPosts().then(({ data }) =>\n      dispatch({ type: \"UPDATE_POSTS\", payload: data })\n    );\n  }, []);\n\n  return (\n    <div>\n      <h1>All Blog Posts</h1>\n      <h3 className=\"mb-5 mt-5\">Click on a post to view</h3>\n      {state.posts.length ? (\n        <List>\n          {state.posts.map(post => (\n            <ListItem key={post._id}>\n              <Link to={\"/posts/\" + post._id}>\n                <strong>\n                  {post.title} by {post.author}\n                </strong>\n              </Link>\n              <DeleteBtn\n                onClick={() => {\n                  dispatch({ type: \"SAVING\" });\n                  API.deletePost(post._id).then(_ => {\n                    dispatch({ type: \"REMOVE_POST\", payload: post });\n                  });\n                }}\n              />\n            </ListItem>\n          ))}\n        </List>\n      ) : (\n        <h3>You haven't added any posts yet!</h3>\n      )}\n      <div className=\"mt-5\">\n        <Link to=\"favorites\">View favorites</Link>\n      </div>\n    </div>\n  );\n};\n\nexport default PostsList;\n"]},"metadata":{},"sourceType":"module"}